diff '--color=auto' -r -U3 crystal-1.4.0.orig/src/compiler/crystal/loader.cr crystal-1.4.0/src/compiler/crystal/loader.cr
--- crystal-1.4.0.orig/src/compiler/crystal/loader.cr	2022-04-06 20:21:35.000000000 +0300
+++ crystal-1.4.0/src/compiler/crystal/loader.cr	2022-04-08 14:17:40.355244500 +0300
@@ -97,7 +97,12 @@
 
   private def each_library_path(libname)
     @search_paths.each do |directory|
-      yield "#{directory}/lib#{libname}#{SHARED_LIBRARY_EXTENSION}"
+      path = "#{directory}/lib#{libname}#{SHARED_LIBRARY_EXTENSION}"
+      yield path if File.exists?(path)
+
+      # Trying to load versioned so
+      list = Dir["#{path}.*"]
+      yield list.first unless list.empty?
     end
   end
 
